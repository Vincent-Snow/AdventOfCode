import UIKit

extension StringProtocol {
    subscript(offset: Int) -> Character { self[index(startIndex, offsetBy: offset)] }
    subscript(range: Range<Int>) -> SubSequence {
        let startIndex = index(self.startIndex, offsetBy: range.lowerBound)
        return self[startIndex..<index(startIndex, offsetBy: range.count)]
    }
    subscript(range: ClosedRange<Int>) -> SubSequence {
        let startIndex = index(self.startIndex, offsetBy: range.lowerBound)
        return self[startIndex..<index(startIndex, offsetBy: range.count)]
    }
    subscript(range: PartialRangeFrom<Int>) -> SubSequence { self[index(startIndex, offsetBy: range.lowerBound)...] }
    subscript(range: PartialRangeThrough<Int>) -> SubSequence { self[...index(startIndex, offsetBy: range.upperBound)] }
    subscript(range: PartialRangeUpTo<Int>) -> SubSequence { self[..<index(startIndex, offsetBy: range.upperBound)] }
}

var str = "Hello, playground"
var input = """
                    .##.....#....#....#..#.#...#.##
                    .###........#.##....#......#..#
                    #..#..#.....#...#....#.#.......
                    .........#.................#...
                    ..#.......#.#.......#.......#.#
                    .####........#.#..##.........#.
                    ........#.........#.........#..
                    #..##...##....#.....##......#..
                    .........#..............#......
                    #.........#...##.........#.#...
                    ..............#........##.....#
                    ##....#...........#....#.#...#.
                    .....#..#.....#...#.#..........
                    #.......#...#..##........##..#.
                    .#........#.......#............
                    .......##.....#.#.#..#.#.......
                    ..#......#..#....##......#.#...
                    .....##....#..#.....#..#.......
                    .............#.......#.#....#..
                    .................#.#......#....
                    .#..#....#..........#.....#.##.
                    #.#.#.#.....###.......#.....#..
                    #...#..........#..#............
                    ...#...##.......#.##..#........
                    ..#...#.#.##...##.........#.#.#
                    .....#...#.#....#.#.....#......
                    ...#...#.#..#...#.....#........
                    ...........###.#.......#.#.....
                    ..#..#.#........#.#.......#.#.#
                    .#.......#...........#.........
                    .#..#...##....#.......###..##..
                    #....#.....#....##..#.........#
                    #..#.......#...#......#.#....#.
                    ......##..#..#....#.#........##
                    #.....#.........#......#..##..#
                    .#..#.......#....#............#
                    ....#..........#.#...##....#.##
                    ..#...#.#...#.###.#..#......#..
                    #.#...#..............#.......#.
                    ..##.......#......#....###.....
                    ......#.......#.#.##.#..##.#...
                    .#......#......#.#....#..#.#..#
                    ....#....#..#...#.....#.#..#...
                    .#.....#.#.#..#........#.#.###.
                    #..#..#.#......#..#..#....#.#..
                    ..#.###....#....##...#.........
                    ...........#..#...........#....
                    .................#..........#.#
                    .#.#....#..#........#..#.......
                    ...........##..#...............
                    ...#.##.........#.........#.#.#
                    ........#..#....#.#............
                    ...##...##..................#.#
                    ...#..##..#...#......#.....#..#
                    .##.#..#..#......#......#.....#
                    ....#.....#....#......##.#.....
                    .....#.##....#...#.............
                    ......#...#.....##....#...#..##
                    ...#............#.###....##....
                    ............#.#.#...#.#........
                    #.....#..#.#..##...........#.##
                    .....#.#.#.#..##......##.#..#..
                    .#.##..#.........#......#.....#
                    .#.#.#.#.#..#..#........###....
                    ......##..........#.#.....##..#
                    ..#...#..#.....#.#.....#.......
                    ............#....#.............
                    ........#...#..#....#.#..###...
                    #........##....##..............
                    .........#.#.#..#..#...#.#.....
                    ....#............#....####...#.
                    ##.#.#......#.....#...#....###.
                    ...#..#..#..#.......#..#.#.#..#
                    ..#..#....#...#.##..#.........#
                    #..#.#....#....#...#..##..#.#..
                    ...#....#.............#..#.#..#
                    ..#......#.##...#..............
                    #....##.#.#...##......#.....##.
                    .#...##...#...####.....##......
                    ...........#.###....#...#...#..
                    ##..#..##..#..#.#.#..###.......
                    .#...##......#........##..#....
                    .#...#...#.....#............#..
                    .#.#.#...#.#..#.......#......#.
                    .................#..#.#......#.
                    #..#####......##.#....#...#....
                    ........#......#.....##......#.
                    ....#.#...#...#..#.......#####.
                    .....##......#...#.......#....#
                    .#....#...#..#...#.#...#..#...#
                    ....##.........#.#...####.#....
                    ...##..........#.#.......##....
                    .........#......#.....#....#...
                    #....##..#......#.....##....#..
                    ...#.#.............#...#.....#.
                    ...........#...#.#....#..#.#...
                    .......#.#.#.....#..#........#.
                    ..##.....#..#.....##..#........
                    ...#.#..........#...#....#.#...
                    ..#....#......#...#.#...##..#.#
                    .#...#..#..#..#.......#........
                    .................#.#...........
                    ...............#......##.....#.
                    ..##.....###..#....#.........##
                    ....#.#........#.####.#...#....
                    .....#.....##..####..##.......#
                    .....####.#...#......#.........
                    ........#..#......#.....##.....
                    ...###..#.#..###.......#.......
                    ...#...##..#..#..#..#.##.......
                    ..#......##..#.....##..##......
                    #.......#.#..#.................
                    #.......#...#..###....#.#.#.#..
                    #...#.#....##.##.#...........#.
                    .#.........#..###..#.........#.
                    #...#......#...#.#.........#...
                    .#.##..............#.#....#...#
                    ........#.....#..#.#.#......#..
                    ............####.#......#......
                    ......#.#.#...#.#...#.#.....#..
                    ....#....#...#.....#.......#.#.
                    ..#....#....###..#....#.....##.
                    .................#.....#.#....#
                    .#.............#......#.##..#..
                    #.....##.......#..#.....#....#.
                    #.#......####...##.....#....##.
                    .....#.#....#..................
                    ....#....#..#.#...........##...
                    ...#.............##......#..#..
                    ......#..........#...#...##.###
                    ...##......##.....#......#....#
                    ........#.#.#...#...#..##......
                    ......................###....##
                    .#.....#..#..#.##.#.#.#....#.##
                    .#..............#.....#......#.
                    .#...#.##....#.....#.#.#..#..#.
                    ##...##.......#.....#..###.....
                    ...#..#.#....#........#........
                    ....#..............##...#......
                    ...........#..#.....##.#.#.#...
                    #.#.....##..##.#.#........#....
                    .........#....#.....#..##.#...#
                    ...#...#..#..#.####...#.......#
                    .....##.....##.....#......#....
                    #.##...#....#............#..##.
                    .#.##..#...#....#.#......#.....
                    ..###................#.........
                    .#..#..#................#......
                    ....#..#........#..#....#......
                    .#..........###......#...###...
                    ...........##...#.#..#.........
                    ...#....#..........#.....#..##.
                    ..#..#.............#......###..
                    #....#....##.....#....#.##.....
                    ......#.......#..#..........##.
                    #..##.#...#.#.........#....#.#.
                    ...#...#..........#...#..#....#
                    ...###..#.#......#.##.#####...#
                    ..#.....#.#..............#..##.
                    #..###......#.#..#........#....
                    .#.......#.......#.....#.##....
                    .#...##..#.......##.....#....##
                    ..........#.#..#.....#.........
                    .......####...#...#.....##.....
                    ......#.......#.......#..#.#...
                    ...##....##.#.......#.##......#
                    .#...#............#......##....
                    #..#..#...#.#........#.........
                    .......#.......#.....##.#......
                    .#....##...#....#.........#...#
                    #.#....#.....##...........#..#.
                    .....#......#....#......#.#...#
                    .#............#...#.#....#....#
                    ........##..#..##..##.##....#..
                    ........................#.#....
                    #....#...#.....................
                    ##.#.............#.....#...##.#
                    ....##....###.......#..........
                    ..#.#..#.#...####.....#.....#..
                    #.........#.......#......#..##.
                    .#.#.............#..#...#...#..
                    #..#....#....#..##.........#...
                    #.#.....#.##.#...#.##..#.#..##.
                    ......#......#.###....#..###...
                    .##...#.......#.........#.#...#
                    ..........#...#....#..#....#...
                    .....#...#.....#....##....#.#..
                    #....#...........#.#...#.......
                    .###..#........##..........#...
                    ....###.##..#...#.#..##......##
                    .#...#...........#...........#.
                    #......#....#.##.........##..#.
                    .#.......#........#......#.#.#.
                    .......#..##.........#......#..
                    .#..#.....##....##....#.....#..
                    #.#.#.....#...#......#.........
                    ..............#.#.........#.#..
                    ....#...#.............#.#......
                    ..##.#............#.#.##....#..
                    .....####..........#.#....##..#
                    ......#.#.........#.......###..
                    #....##.#...#.#...........#...#
                    .....#...#......#....###...#..#
                    #....#..............#...#......
                    ...#..###...#..........#....#..
                    #......#..#.#.#......#..#...#..
                    ................##......#..#...
                    ....#..#..#........##..#...#...
                    ...##.......#.##.#.....##...#.#
                    .......#.##.#..#.....#...#.....
                    ......#........#..#......##.##.
                    ....................#.....#.#..
                    .##....#...#...##...#.........#
                    ..#...#..#.##..#.#.#......#....
                    #....###.#..#..#...#..#...##...
                    #.......#.....#.#.......###.#.#
                    .#.##...##..#......#....#...#..
                    #.....#.......##..#....#.......
                    ...###...#............#....#..#
                    .#....#.#...#..#..#.##.#.#.#...
                    #......#.#..#.#.#......#.......
                    ..#..#....###.#........#..#.#..
                    .......#......##.........#.....
                    ...#...###..#..#.##.#..##......
                    .#.......##.......#..#..#.###.#
                    .###.#..#.###...........#......
                    ...#................#.#...##..#
                    ....#.###....#.......#........#
                    .##...#...#..#.....#...#.......
                    .#...#..#...........#.#......##
                    ...##..#.#.#..#.#.#.......#....
                    .#.#..#..#.#...........#.......
                    ..#....#.#.#.#.#..............#
                    ..##..............##....#.#..#.
                    ..#....#...##.....###.....#.#.#
                    #....#......#..........##......
                    .##.#.#......#...##..###..#....
                    .#...........#.##.......##..##.
                    ###.....##...#.##..#...........
                    ...#.....#...........#..#.....#
                    #.........#....#.......#.......
                    .#.#...#.###....#..#...........
                    .....#.......#.....#.##.#.#.#..
                    ..##.#.........##.........#..#.
                    .......#....#......#.........##
                    ...##.....#..#.......#..#.#....
                    ..#...###.......#..#....###....
                    .......#...###......#.#.....#.#
                    #....#...#.#....#.#..........#.
                    ........#..#.....#.#.#.........
                    ......##.......###.......#...#.
                    .........#..#..#.......#.......
                    #.......#...#.....#.#..#....#..
                    .##....#..###.............#....
                    #.#...#.......#.....##.#.#....#
                    ....#....##.#........##........
                    ...##...#.#.............#...##.
                    ##....#.....#..#..#......#.....
                    #...#.#........##....##......##
                    ..#...........#..#......###....
                    ..##..#.....#......#....##.....
                    ....###.#...#......##......#...
                    ....#....###...........###.#..#
                    ..#....#...#.##....#...#.......
                    ....##...........#............#
                    ..#.#......#......#.##.#...#..#
                    #.###.............#.#.##.#.....
                    #....##....#..#.#.#...........#
                    ...#...................#.......
                    .#...#......#.......#.#....#..#
                    ....#...#..#..#..#.#.....#....#
                    ..#....#............#..###..##.
                    ...##...#...........#..#..#.#..
                    ..#..#..#.........#.........#.#
                    ...#.#.....#.#..##.........#...
                    ....#..........................
                    ....#.....#.#...#.###.........#
                    ....#.#.......#..#.#.#...#...#.
                    .....#...#..#.....##....#.#.#..
                    #....###......#..#..........#..
                    .#.....#......##.......#...#.##
                    ...#..#.....#.#.....#.......##.
                    ............#..#....#...#..#.#.
                    ..........#.#..#..##...........
                    .......#.......#..##...##.....#
                    ....#...##.#..#...#.#.......#..
                    ....#.#........#...####...#....
                    #.#.............#.............#
                    .#.#......#....#..#..#.....##.#
                    #..#...........#........#.....#
                    #....#....#.#..#.#....#.#...##.
                    ....##...##...#...#...........#
                    ...#.#..#....#..#..#..#........
                    ...#..##..#........#..........#
                    #......#.##..##.......#..#.....
                    ..#...#......#...##.#..........
                    .###.#..#..#........####...#...
                    #..............#.#.#........#..
                    ..##....#.......#....##...#..##
                    .##...#..#.#.....#..#.......##.
                    ..#.........##.......#....#..#.
                    .#..#...#..##.#..#.....#.......
                    .#....#.........#..#...#...##..
                    ..###..######..#.##.#....#.....
                    ....#..#.....#.............#..#
                    ...#....#.......#..#.#.......##
                    .....#......#.......#..##...#..
                    .##..#....##..##......#...#..#.
                    ......#......#...#...###.......
                    ....#.....#.###..##.....#.#.##.
                    .......#....#...#..#..#...#.#..
                    ...####.#...#...#.#...##....#..
                    ......#.#....#....#.#....##....
                    #..##...........####....##.#...
                    ...#...##.#.......#.#..........
                    ..#......#..#..#...#......#....
                    ..###..#.....#..#.#.......#...#
                    #........#...##..#...#....#....
                    ...#.#...#.....#........#...#..
                    ...#....#.###...#..#...#..##.#.
                    .....#..#..#...#...#..#........
                    ..#......##...............#.#.#
                    .#...###.#....##..........#.#..
                    """

var testInput = """
            O.##.......
            #...#...#..
            .#....#..#.
            ..#.#...#.#
            .#...##..#.
            ..#.##.....
            .#.#.#....#
            .#........#
            #.##...#...
            #...##....#
            .#..#...#.#
            """
var treesArray = input.split(separator: "\n")


print(treesArray.count)
func treeSlope(xIncrementer:Int, yIncrementer:Int) -> Int {
    
    var treeCounter = 0
    var y = 0
    var x = 0
    
    treeLoop: for _ in 1...treesArray.count-1 {
        x = x + xIncrementer
        y = y + yIncrementer
        
        if y >= treesArray.count {
            break treeLoop
        }
        if x >= treesArray[0].count {
            x = x - treesArray[0].count
        }
        if treesArray[y][x] == "#" {
            treeCounter+=1
        }
    }
    print("Tree Count for slopes with x: \(xIncrementer) and y: \(yIncrementer). # trees = \(treeCounter)")
    return treeCounter
}
//treeSlope(xIncrementer: 3, yIncrementer: 1)
//treeSlope(xIncrementer: 1, yIncrementer: 1)
//treeSlope(xIncrementer: 5, yIncrementer: 1)
//treeSlope(xIncrementer: 7, yIncrementer: 1)
//treeSlope(xIncrementer: 1, yIncrementer: 2)
var total = treeSlope(xIncrementer: 3, yIncrementer: 1) * treeSlope(xIncrementer: 1, yIncrementer: 1) * treeSlope(xIncrementer: 5, yIncrementer: 1) * treeSlope(xIncrementer: 7, yIncrementer: 1) * treeSlope(xIncrementer: 1, yIncrementer: 2)
print("The number of trees hit product is \(total)")
